import { derived } from 'svelte/store';
import { selectedLanguage } from './stores'; // Import the selected language store

// Simple translation dictionary
const translations = {
    tr: {
        searchPlaceholder: "Artado'da ara...",
        all: "Hepsi",
        images: "Görseller",
        videos: "Videolar",
        news: "Haberler",
        settings: "Ayarlar",
        themes: "Temalar",
        language: "Dil",
        searchEngine: "Arama Motoru",
        aiSummary: "AI Özeti",
        showAiSummary: "Arama sonuçlarında AI özetini göster",
        footerCopyright: "Tüm hakları Artado Software'a aittir",
        menu: "Menü",
        closeMenu: "Menüyü kapat",
        basicSettings: "Temel Ayarlar",
        appearance: "Görünüm",
        themeMode: "Tema Modu",
        themeModeDesc: "Sistem, açık veya koyu tema arasında seçim yapın.",
        system: "Sistem",
        light: "Açık",
        dark: "Koyu",
        density: "Yoğunluk",
        densityDesc: "Bileşenlerin boşluk miktarını ayarlayın.",
        comfortable: "Rahat",
        compact: "Sıkışık",
        fontSize: "Yazı Boyutu",
        fontSizeDesc: "Genel yazı boyutu ölçeğini ayarlayın.",
        cornerRadius: "Köşe Yuvarlaklığı",
        cornerRadiusDesc: "Kartlar ve butonlar için köşe yuvarlaklığını seçin.",
        rounded: "Yuvarlak",
        medium: "Orta",
        square: "Köşeli",
        accentColor: "Vurgu Rengi",
        accentColorDesc: "Uygulamanın ana vurgu rengini seçin.",
        loadMore: "Daha fazla yükle",
        source: "Kaynak",
        dateFrom: "Başlangıç Tarihi",
        dateTo: "Bitiş Tarihi",
        history: "Geçmiş",
        interface: "Arayüz",
        customCSS: "Özel CSS",
        advanced: "Gelişmiş",
        plugins: "Eklentiler",
        hybridProxy: "Hybrid Proxy",
        // Add more translations as needed
    },
    en: {
        searchPlaceholder: "Search on Artado...",
        all: "All",
        images: "Images",
        videos: "Videos",
        news: "News",
        settings: "Settings",
        themes: "Themes",
        language: "Language",
        searchEngine: "Search Engine",
        aiSummary: "AI Summary",
        showAiSummary: "Show AI summary on search results",
        footerCopyright: "All rights reserved Artado Software",
        menu: "Menu",
        closeMenu: "Close menu",
        basicSettings: "Basic Settings",
        appearance: "Appearance",
        themeMode: "Theme Mode",
        themeModeDesc: "Choose between system, light, or dark.",
        system: "System",
        light: "Light",
        dark: "Dark",
        density: "Density",
        densityDesc: "Adjust spacing of components.",
        comfortable: "Comfortable",
        compact: "Compact",
        fontSize: "Font Size",
        fontSizeDesc: "Adjust the global font size scale.",
        cornerRadius: "Corner Radius",
        cornerRadiusDesc: "Select corner rounding for cards and buttons.",
        rounded: "Rounded",
        medium: "Medium",
        square: "Square",
        accentColor: "Accent Color",
        accentColorDesc: "Pick the primary accent color for the app.",
        loadMore: "Load more",
        source: "Source",
        dateFrom: "Start Date",
        dateTo: "End Date",
        history: "History",
        interface: "Interface",
        customCSS: "Custom CSS",
        advanced: "Advanced",
        plugins: "Plugins",
        hybridProxy: "Hybrid Proxy",
        // Add more translations as needed
    },
    fr: {
        searchPlaceholder: "Rechercher sur Artado...",
        all: "Tout",
        images: "Images",
        videos: "Vidéos",
        news: "Actualités",
        settings: "Paramètres",
        themes: "Thèmes",
        language: "Langue",
        searchEngine: "Moteur de recherche",
        aiSummary: "Résumé IA",
        showAiSummary: "Afficher le résumé IA sur les résultats",
        footerCopyright: "Tous droits réservés Artado Software",
        menu: "Menu",
        closeMenu: "Fermer le menu",
        basicSettings: "Paramètres de base",
        appearance: "Apparence",
        themeMode: "Mode du thème",
        themeModeDesc: "Choisissez entre système, clair ou sombre.",
        system: "Système",
        light: "Clair",
        dark: "Sombre",
        density: "Densité",
        densityDesc: "Ajustez l'espacement des composants.",
        comfortable: "Confortable",
        compact: "Compact",
        fontSize: "Taille de police",
        fontSizeDesc: "Ajustez l'échelle de la taille de police globale.",
        cornerRadius: "Rayon d'angle",
        cornerRadiusDesc: "Sélectionnez l'arrondi des cartes et boutons.",
        rounded: "Arrondi",
        medium: "Moyen",
        square: "Anguleux",
        accentColor: "Couleur d'accent",
        accentColorDesc: "Choisissez la couleur d'accent principale de l'application.",
        loadMore: "Charger plus",
        source: "Source",
        dateFrom: "Date de début",
        dateTo: "Date de fin",
        history: "Historique",
        interface: "Interface",
        customCSS: "CSS Personnalisé",
        advanced: "Avancé",
        plugins: "Eklentiler",
        hybridProxy: "Hybrid Proxy",
        // Add more translations as needed
    }
};

// Function to get the translation for a key based on the current language
function translate(lang, key) {
    const langKey = lang?.toLowerCase() || 'tr'; // Default to Turkish if undefined/null
    const langTranslations = translations[langKey] || translations.tr; // Fallback to Turkish
    return langTranslations[key] || key; // Return key itself if translation is missing
}

// Create a derived store that provides the translation function `t`
export const t = derived(selectedLanguage, ($selectedLanguage) => {
    return (key) => translate($selectedLanguage, key);
}); 