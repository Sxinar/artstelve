name: Stoat Ultimate Notifier
on:
  push:
  pull_request:
    types: [opened, closed]
  watch:
    types: [started]  # YÄ±ldÄ±z (Star) atÄ±ldÄ±ÄŸÄ±nda
  fork:               # Fork yapÄ±ldÄ±ÄŸÄ±nda
  issues:
    types: [opened]   # Yeni Issue aÃ§Ä±ldÄ±ÄŸÄ±nda

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Build and Send Notification
        run: |
          EVENT="${{ github.event_name }}"
          USER="${{ github.actor }}"
          REPO="${{ github.repository }}"
          URL="https://github.com/$REPO"

          # Olay tipine gÃ¶re mesajÄ± ÅŸekillendirelim
          if [ "$EVENT" == "watch" ]; then
            MSG="â­ **Yeni Star!**\nğŸ‘¤ **KullanÄ±cÄ±:** $USER\nâœ¨ Depo parlamaya devam ediyor!"
          elif [ "$EVENT" == "fork" ]; then
            MSG="ğŸ´ **Repo ForklandÄ±!**\nğŸ‘¤ **KullanÄ±cÄ±:** $USER\nğŸ“¦ ArtÄ±k bir kopyasÄ± daha var!"
          elif [ "$EVENT" == "push" ]; then
            MSG="ğŸš€ **Yeni Push!**\nğŸ‘¤ **Yapan:** $USER\nğŸ“ **Mesaj:** ${{ github.event.head_commit.message }}\nğŸ”— [Commit'i GÃ¶r]($URL/commit/${{ github.sha }})"
          elif [ "$EVENT" == "pull_request" ]; then
            MSG="ğŸ”€ **Pull Request:** ${{ github.event.pull_request.title }}\nğŸ‘¤ **Durum:** ${{ github.event.action }}\nğŸ”— [PR Detay](${{ github.event.pull_request.html_url }})"
          elif [ "$EVENT" == "issues" ]; then
            MSG="ğŸ“¢ **Yeni Issue AÃ§Ä±ldÄ±!**\nğŸ‘¤ **AÃ§an:** $USER\nğŸ“Œ **BaÅŸlÄ±k:** ${{ github.event.issue.title }}\nğŸ”— [Ä°ncele](${{ github.event.issue.html_url }})"
          else
            MSG="ğŸ”” **GitHub EtkinliÄŸi:** $EVENT\nğŸ‘¤ **Yapan:** $USER\nğŸ“ **Repo:** $REPO"
          fi

          # Stoat Webhook'una gÃ¶nder (Yeni Linkin)
          curl -X POST https://stoat.chat/api/webhooks/01KGQ34WFB2HH440J4DEV4JM0Q/RF2h_nRlfb3DtQ4HaLKFPErRK7KFUlT3mSV1vWL5ev_90BNiG5LcX5Y9dhZ7D_bJ/ \
          -H "Content-Type: application/json" \
          -d "{\"content\": \"$MSG\"}"
